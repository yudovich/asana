{"ast":null,"code":"\"use strict\";\n\n/**\n * Return the mime type for the given `str`.\n *\n * @param {String} str\n * @return {String}\n * @api private\n */\nexports.type = function (str) {\n  return str.split(/ *; */).shift();\n};\n/**\n * Return header field parameters.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nexports.params = function (str) {\n  return str.split(/ *; */).reduce(function (obj, str) {\n    var parts = str.split(/ *= */);\n    var key = parts.shift();\n    var val = parts.shift();\n    if (key && val) obj[key] = val;\n    return obj;\n  }, {});\n};\n/**\n * Parse Link header fields.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nexports.parseLinks = function (str) {\n  return str.split(/ *, */).reduce(function (obj, str) {\n    var parts = str.split(/ *; */);\n    var url = parts[0].slice(1, -1);\n    var rel = parts[1].split(/ *= */)[1].slice(1, -1);\n    obj[rel] = url;\n    return obj;\n  }, {});\n};\n/**\n * Strip content related fields from `header`.\n *\n * @param {Object} header\n * @return {Object} header\n * @api private\n */\n\nexports.cleanHeader = function (header, changesOrigin) {\n  delete header['content-type'];\n  delete header['content-length'];\n  delete header['transfer-encoding'];\n  delete header.host; // secuirty\n\n  if (changesOrigin) {\n    delete header.authorization;\n    delete header.cookie;\n  }\n  return header;\n};","map":{"version":3,"names":["exports","type","str","split","shift","params","reduce","obj","parts","key","val","parseLinks","url","slice","rel","cleanHeader","header","changesOrigin","host","authorization","cookie"],"sources":["D:\\Work\\asana\\node_modules\\superagent\\src\\utils.js"],"sourcesContent":["/**\n * Return the mime type for the given `str`.\n *\n * @param {String} str\n * @return {String}\n * @api private\n */\n\nexports.type = str => str.split(/ *; */).shift();\n\n/**\n * Return header field parameters.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nexports.params = str =>\n  str.split(/ *; */).reduce((obj, str) => {\n    const parts = str.split(/ *= */);\n    const key = parts.shift();\n    const val = parts.shift();\n\n    if (key && val) obj[key] = val;\n    return obj;\n  }, {});\n\n/**\n * Parse Link header fields.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nexports.parseLinks = str =>\n  str.split(/ *, */).reduce((obj, str) => {\n    const parts = str.split(/ *; */);\n    const url = parts[0].slice(1, -1);\n    const rel = parts[1].split(/ *= */)[1].slice(1, -1);\n    obj[rel] = url;\n    return obj;\n  }, {});\n\n/**\n * Strip content related fields from `header`.\n *\n * @param {Object} header\n * @return {Object} header\n * @api private\n */\n\nexports.cleanHeader = (header, changesOrigin) => {\n  delete header['content-type'];\n  delete header['content-length'];\n  delete header['transfer-encoding'];\n  delete header.host;\n  // secuirty\n  if (changesOrigin) {\n    delete header.authorization;\n    delete header.cookie;\n  }\n\n  return header;\n};\n"],"mappings":";;AAAA;;;;;;;AAQAA,OAAO,CAACC,IAAR,GAAe,UAAAC,GAAG;EAAA,OAAIA,GAAG,CAACC,KAAJ,CAAU,OAAV,EAAmBC,KAAnB,EAAJ;AAAA,CAAlB;AAEA;;;;;;;;AAQAJ,OAAO,CAACK,MAAR,GAAiB,UAAAH,GAAG;EAAA,OAClBA,GAAG,CAACC,KAAJ,CAAU,OAAV,EAAmBG,MAAnB,CAA0B,UAACC,GAAD,EAAML,GAAN,EAAc;IACtC,IAAMM,KAAK,GAAGN,GAAG,CAACC,KAAJ,CAAU,OAAV,CAAd;IACA,IAAMM,GAAG,GAAGD,KAAK,CAACJ,KAAN,EAAZ;IACA,IAAMM,GAAG,GAAGF,KAAK,CAACJ,KAAN,EAAZ;IAEA,IAAIK,GAAG,IAAIC,GAAX,EAAgBH,GAAG,CAACE,GAAD,CAAH,GAAWC,GAAX;IAChB,OAAOH,GAAP;EACD,CAPD,EAOG,EAPH,CADkB;AAAA,CAApB;AAUA;;;;;;;;AAQAP,OAAO,CAACW,UAAR,GAAqB,UAAAT,GAAG;EAAA,OACtBA,GAAG,CAACC,KAAJ,CAAU,OAAV,EAAmBG,MAAnB,CAA0B,UAACC,GAAD,EAAML,GAAN,EAAc;IACtC,IAAMM,KAAK,GAAGN,GAAG,CAACC,KAAJ,CAAU,OAAV,CAAd;IACA,IAAMS,GAAG,GAAGJ,KAAK,CAAC,CAAD,CAAL,CAASK,KAAT,CAAe,CAAf,EAAkB,CAAC,CAAnB,CAAZ;IACA,IAAMC,GAAG,GAAGN,KAAK,CAAC,CAAD,CAAL,CAASL,KAAT,CAAe,OAAf,EAAwB,CAAxB,EAA2BU,KAA3B,CAAiC,CAAjC,EAAoC,CAAC,CAArC,CAAZ;IACAN,GAAG,CAACO,GAAD,CAAH,GAAWF,GAAX;IACA,OAAOL,GAAP;EACD,CAND,EAMG,EANH,CADsB;AAAA,CAAxB;AASA;;;;;;;;AAQAP,OAAO,CAACe,WAAR,GAAsB,UAACC,MAAD,EAASC,aAAT,EAA2B;EAC/C,OAAOD,MAAM,CAAC,cAAD,CAAb;EACA,OAAOA,MAAM,CAAC,gBAAD,CAAb;EACA,OAAOA,MAAM,CAAC,mBAAD,CAAb;EACA,OAAOA,MAAM,CAACE,IAAd,CAJ+C,CAK/C;;EACA,IAAID,aAAJ,EAAmB;IACjB,OAAOD,MAAM,CAACG,aAAd;IACA,OAAOH,MAAM,CAACI,MAAd;EACD;EAED,OAAOJ,MAAP;AACD,CAZD","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}